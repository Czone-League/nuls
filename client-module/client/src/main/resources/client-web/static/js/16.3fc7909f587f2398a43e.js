webpackJsonp([16],{"4/WD":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("LPk9"),r=s("7wgv"),o={data:function(){return{fellPathSetInterval:null,imageUrl:"",keyStorePath:"",keyStoreInfo:{}}},components:{Back:n.a,PasswordTow:r.a},mounted:function(){},methods:{keystore:function(){var e=this,t=document.getElementById("fileId");document.querySelector("#preview");t.click();this.fellPathSetInterval=setInterval(function(){""!==e.getFullPath(t)&&(e.$refs.passTwo.showPasswordTwo(!0),clearInterval(e.fellPathSetInterval))},500)},upload:function(e){if(window.FileReader){var t=e.files[0],s=(t.name.split(".")[0],new FileReader);s.onload=function(){return this.result},s.readAsText(t)}return!0},getFullPath:function(e){if(e)return window.navigator.userAgent.indexOf("MSIE")>=1?(e.select(),document.selection.createRange().text):window.navigator.userAgent.indexOf("Firefox")>=1&&e.files?e.files.item(0).getAsDataURL():e.value},toSubmit:function(e){var t=this,s=document.getElementById("fileId"),n=document.querySelector("#preview");if(window.FileReader){var r=s.files[0],o=new FileReader;o.onload=function(){n.innerHTML=this.result},o.readAsText(r),setTimeout(function(){var s={accountKeyStoreDto:JSON.parse(n.innerHTML),password:e,overwrite:!1};t.postKeyStore("/account/import",s)},500)}},postKeyStore:function(e,t){var s=this;this.$post(e,t).then(function(e){(console.log(e),e.success)?(document.querySelector("#preview").innerHTML="",localStorage.setItem("newAccountAddress",e.data),"1"!==localStorage.getItem("toUserInfo")?s.$router.push({name:"/wallet"}):s.$router.push({path:"/wallet/users/userInfo"}),s.$message({type:"success",message:s.$t("message.passWordSuccess")})):s.$message({type:"warning",message:s.$t("message.passWordFailed")+e.msg})})},importKey:function(){this.$router.push({path:"/firstInto/firstInfo/importKey"})}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"import-account"},[s("Back",{attrs:{backTitle:this.$t("message.firstInfoTitle")}}),e._v(" "),s("h1",[e._v(e._s(e.$t("message.inportAccount")))]),e._v(" "),s("input",{staticClass:"hidden",attrs:{type:"file",id:"fileId"}}),e._v(" "),s("p",{staticClass:"hidden",attrs:{id:"preview",value:""}}),e._v(" "),s("div",{staticClass:"keystore",on:{click:e.keystore}},[s("h1",[e._v("导入Keystore")]),e._v(" "),e._m(0),e._v(" "),s("h3",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v("\n      已完成.keystore文件导入\n    ")])]),e._v(" "),s("div",{staticClass:"key text-d cursor-p",on:{click:e.importKey}},[e._v("私钥导入")]),e._v(" "),s("PasswordTow",{ref:"passTwo",on:{toSubmit:e.toSubmit}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("点击将浏览文件夹"),t("br"),this._v("选择.keystore文件导入")])}]};var a=s("vSla")(o,i,!1,function(e){s("SSiH")},null,null);t.default=a.exports},SSiH:function(e,t){}});