webpackJsonp([22],{ePGE:function(e,t){},sz9L:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("LPk9"),o=s("7wgv"),r={data:function(){return{submitId:"importKey",keyData:{keyInfo:""},keyRules:{keyInfo:[{required:!0,message:this.$t("message.keyLow"),trigger:"blur"}]}}},components:{Back:a.a,PasswordTow:o.a},methods:{keySubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$refs.passTwo.showPasswordTwo(!0)})},toSubmit:function(e){var t=this,s="";s=""===e?'{"priKey":"'+this.keyData.keyInfo+'","password":""}':'{"priKey":"'+this.keyData.keyInfo+'","password":"'+e+'"}',this.$post("/account/import/pri",s).then(function(e){console.log("/account/import/pri==="+s),e.success?t.getAccountList("/account"):t.$message({type:"warning",message:t.$t("message.passWordFailed")+e.msg}),t.passwordVisible=!1})},getAccountList:function(e){var t=this;this.$fetch(e).then(function(e){e.success&&(t.$store.commit("setAddressList",e.data.list),1===e.data.list.length?(localStorage.setItem("newAccountAddress",e.data.list[0].address),localStorage.setItem("encrypted",e.data.list[0].encrypted),t.$router.push({name:"/wallet"})):t.$router.push({name:"/userInfo",params:{address:e.data}}),t.$message({type:"success",message:t.$t("message.passWordSuccess")}))}).catch(function(e){console.log("User List err"+e)})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"import-key"},[s("Back",{attrs:{backTitle:this.$t("message.inportAccount")}}),e._v(" "),s("h2",[e._v(e._s(e.$t("message.key")))]),e._v(" "),s("el-form",{ref:"keyData",attrs:{model:e.keyData,rules:e.keyRules,"label-position":"top"}},[s("el-form-item",{attrs:{label:e.$t("message.keyLow"),prop:"keyInfo"}},[s("el-input",{attrs:{type:"textarea",maxlength:100},model:{value:e.keyData.keyInfo,callback:function(t){e.$set(e.keyData,"keyInfo","string"==typeof t?t.trim():t)},expression:"keyData.keyInfo"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",id:"importKey"},on:{click:function(t){e.keySubmit("keyData")}}},[e._v("\n                "+e._s(e.$t("message.confirmButtonText"))+"\n            ")])],1)],1),e._v(" "),s("PasswordTow",{ref:"passTwo",on:{toSubmit:e.toSubmit}})],1)},staticRenderFns:[]};var i=s("vSla")(r,n,!1,function(e){s("ePGE")},null,null);t.default=i.exports}});