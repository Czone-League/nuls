webpackJsonp([10],{OMaF:function(t,e){},PHsi:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("LPk9"),o=s("FJop"),r={data:function(){return{outOrBackup:0,backUrl:"/wallet",setAsAddress:this.$route.params.address,userData:[],totalAll:0}},components:{Back:a.a,Password:o.a},mounted:function(){this.getUserList("/account",{pageSize:8,pageNumber:1})},methods:{back:function(){this.$router.push({name:"/wallete"})},getAllUserList:function(t){var e=this;this.$fetch(t).then(function(t){t.success&&e.$store.commit("setAddressList",t.data.list)})},getUserList:function(t,e){var s=this;this.$fetch(t,e).then(function(t){t.success&&(s.totalAll=t.data.total,0===t.data.list.length?(localStorage.setItem("fastUser","0"),localStorage.setItem("newAccountAddress",""),localStorage.setItem("toUserInfo","0")):1===t.data.list.length?(localStorage.setItem("fastUser","1"),localStorage.setItem("newAccountAddress",t.data.list[0].address),localStorage.setItem("encrypted",t.data.list[0].encrypted)):(localStorage.setItem("fastUser","1"),s.setAsAddress===localStorage.getItem("newAccountAddress")&&(localStorage.setItem("newAccountAddress",t.data.list[0].address),localStorage.setItem("encrypted",t.data.list[0].encrypted))),s.getAllUserList("/account"),s.userData=t.data.list)})},userListSize:function(t){this.getUserList("/account",{pageSize:8,pageNumber:t})},outUser:function(t,e){var s=this;this.setAsAddress=t,this.outOrBackup=1,e?this.$refs.password.showPassword(!0):this.$confirm(this.$t("message.c162"),"",{confirmButtonText:this.$t("message.confirmButtonText"),cancelButtonText:this.$t("message.cancelButtonText")}).then(function(){s.outUserAddress("/account/remove/"+t,'{"password":""}')}).catch(function(){})},outUserAddress:function(t,e){var s=this;this.$store.getters.getNetWorkInfo.localBestHeight===this.$store.getters.getNetWorkInfo.netBestHeight?this.$post(t,e).then(function(t){t.success?(s.$message({type:"success",message:s.$t("message.passWordSuccess")}),s.getUserList("/account",{pageSize:8,pageNumber:1})):s.$message({type:"warning",message:s.$t("message.passWordFailed")+t.msg})}):this.$message({message:this.$t("message.c133"),duration:"800"})},backupUser:function(t,e){var s=this;this.setAsAddress=t,this.outOrBackup=2,e?this.$refs.password.showPassword(!0):this.$confirm(this.$t("message.c163"),"",{confirmButtonText:this.$t("message.confirmButtonText"),cancelButtonText:this.$t("message.cancelButtonText")}).then(function(){localStorage.setItem("userPass",""),s.$router.push({name:"/newAccount",params:{newOk:!1,address:s.setAsAddress}})}).catch(function(){})},toPassword:function(t,e){e?this.$router.push({name:"/editorPassword",params:{address:t,backInfo:this.$t("message.accountManagement")}}):this.$router.push({name:"/setPassword",params:{address:t,backInfo:this.$t("message.accountManagement")}})},toSubmit:function(t){if(1===this.outOrBackup){var e='{"password":"'+t+'"}';this.outUserAddress("/account/remove/"+this.setAsAddress,e)}else localStorage.setItem("userPass",t),this.$router.push({name:"/newAccount",params:{newOk:!1,address:this.setAsAddress}})},editAliasing:function(t,e){this.$store.getters.getNetWorkInfo.localBestHeight===this.$store.getters.getNetWorkInfo.netBestHeight&&"true"===sessionStorage.getItem("setNodeNumberOk")?this.$router.push({name:"/editAliasing",params:{address:t,encrypted:e}}):this.$message({message:this.$t("message.c133"),duration:"800"})},toNewAccount:function(){this.$store.getters.getNetWorkInfo.localBestHeight===this.$store.getters.getNetWorkInfo.netBestHeight&&"true"===sessionStorage.getItem("setNodeNumberOk")?(localStorage.setItem("toUserInfo","0"),this.$router.push({name:"/firstInfo"})):this.$message({message:this.$t("message.c133"),duration:"800"})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[s("Back",{attrs:{backTitle:this.$t("message.walletManagement"),backUrl:t.backUrl}}),t._v(" "),s("div",{staticClass:"freeze-list-tabs"},[s("h2",[t._v(t._s(t.$t("message.userInfoTitle")))]),t._v(" "),s("el-button",{staticClass:"newAccount",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.toNewAccount}}),t._v(" "),s("el-table",{attrs:{data:t.userData}},[s("el-table-column",{attrs:{prop:"address",label:t.$t("message.tabName"),width:"350",align:"center"}}),t._v(" "),s("el-table-column",{staticClass:"user-aliasing",attrs:{label:t.$t("message.tabAlias"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(null!=e.row.alias?e.row.alias:"-"))]),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:null==e.row.alias,expression:"scope.row.alias != null  ? false : true"}],staticClass:"el-icon-edit cursor-p",on:{click:function(s){t.editAliasing(e.row.address,e.row.encrypted)}}})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("message.operation"),"min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){t.outUser(e.row.address,e.row.encrypted)}}},[t._v("\n                        "+t._s(t.$t("message.tabRemove"))+"\n                    ")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){t.backupUser(e.row.address,e.row.encrypted)}}},[t._v("\n                        "+t._s(t.$t("message.tabBackups"))+"\n                    ")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){t.toPassword(e.row.address,e.row.encrypted)}}},[t._v("\n                        "+t._s(e.row.encrypted?t.$t("message.c160"):t.$t("message.c161"))+"\n                    ")])]}}])})],1),t._v(" "),s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalAllOk=this.totalAll>8,expression:"totalAllOk = this.totalAll>8 ? true:false"}],staticClass:"cb",attrs:{layout:"prev, pager, next","page-size":8,total:this.totalAll},on:{"current-change":t.userListSize}}),t._v(" "),s("Password",{ref:"password",on:{toSubmit:t.toSubmit}})],1)],1)},staticRenderFns:[]};var i=s("VU/8")(r,n,!1,function(t){s("OMaF")},null,null);e.default=i.exports}});
//# sourceMappingURL=10.a5a59cabbf247d080a90.js.map