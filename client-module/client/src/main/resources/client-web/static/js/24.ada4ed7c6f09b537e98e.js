webpackJsonp([24],{"0bPT":function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("LPk9"),o=t("FJop"),n=t("x47x"),i={data:function(){return{txHash:this.$route.params.txHash,myNodeInfo:[]}},components:{Back:a.a,Password:o.a},mounted:function(){this.getMyNodeInfo("/consensus/agent/"+this.txHash)},methods:{getMyNodeInfo:function(s){var e=this;this.$fetch(s).then(function(s){if(s.success){var t=new n.BigNumber(1e-8);s.data.deposit=parseFloat(t.times(s.data.deposit).toString()),s.data.totalDeposit=parseFloat(t.times(s.data.totalDeposit).toString()),e.myNodeInfo=s.data}})},closedNode:function(){var s=this;this.$confirm(this.$t("message.c98")+" "+this.myNodeInfo.agentName+" "+this.$t("message.c99")+this.$t("message.miningFee"),this.$t("message.c86"),{confirmButtonText:this.$t("message.confirmButtonText"),cancelButtonText:this.$t("message.cancelButtonText")}).then(function(){"true"===localStorage.getItem("encrypted")?s.$refs.password.showPassword(!0):s.toSubmit("")}).catch(function(){s.$message({type:"waring",message:s.$t("message.c59"),duration:"1000"})})},toSubmit:function(s){var e=this,t={address:localStorage.getItem("newAccountAddress"),password:s};this.$post("/consensus/agent/stop",t).then(function(s){console.log(s),s.success?(e.$message({type:"success",message:e.$t("message.passWordSuccess")}),e.$router.push({name:"/consensus",params:{activeName:"first"}})):e.$message({type:"waring",message:e.$t("message.passWordFailed")+s.msg})})},toallPledge:function(){this.$router.push({name:"/allPledge",params:{agentName:this.myNodeInfo.agentName,txHash:this.myNodeInfo.txHash}})}}},c={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"node-info"},[t("Back",{attrs:{backTitle:this.$t("message.consensusManagement")}}),s._v(" "),t("h2",[s._v(s._s(this.myNodeInfo.agentId))]),s._v(" "),t("ul",[t("li",[t("label",[s._v(s._s(s.$t("message.c16")))]),t("span",[s._v(s._s(this.myNodeInfo.agentName?this.myNodeInfo.agentName:this.myNodeInfo.agentAddress))])]),s._v(" "),t("li",[t("label",[s._v(s._s(s.$t("message.state")))]),t("span",[s._v(" "+s._s(s.$t("message.status"+this.myNodeInfo.status)))])]),s._v(" "),t("li",[t("label",[s._v(s._s(s.$t("message.c25")))]),t("span",[s._v(s._s(this.myNodeInfo.deposit))])]),s._v(" "),t("li",[t("label",[s._v(s._s(s.$t("message.c17")))]),t("span",[s._v(s._s(this.myNodeInfo.commissionRate)+" %")])]),s._v(" "),t("li",[t("label",[s._v(s._s(s.$t("message.c18")))]),t("span",[s._v(s._s(this.myNodeInfo.creditVal))])]),s._v(" "),t("li",[t("label",[s._v(s._s(s.$t("message.c19")))]),t("span",[s._v(s._s(this.myNodeInfo.memberCount))])]),s._v(" "),t("li",[t("label",[s._v(s._s(s.$t("message.c1")))]),t("span",{staticClass:"cursor-p text-d",on:{click:s.toallPledge}},[s._v(s._s(this.myNodeInfo.totalDeposit))])])]),s._v(" "),t("el-button",{staticClass:"bottom-btn",attrs:{type:"button"},on:{click:s.closedNode}},[s._v(s._s(s.$t("message.c62")))]),s._v(" "),t("Password",{ref:"password",on:{toSubmit:s.toSubmit}})],1)},staticRenderFns:[]};var m=t("VU/8")(i,c,!1,function(s){t("hexp")},null,null);e.default=m.exports},hexp:function(s,e){}});
//# sourceMappingURL=24.ada4ed7c6f09b537e98e.js.map